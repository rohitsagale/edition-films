{% extends 'gallery/admin/base.html' %}
{% load static %}

{% block page_title %}{{ title }}{% endblock %}

{% block content %}
<div class="admin-page">
    <div class="page-header">
        <h1>{{ title }}</h1>
        <a href="{% url 'admin_videos' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i>
            Back to Videos
        </a>
    </div>

    <div class="form-container">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}">Video Title</label>
                {{ form.title }}
                {{ form.title.errors }}
            </div>

            <div class="form-group">
                <label for="{{ form.video_type.id_for_label }}">Video Type</label>
                {{ form.video_type }}
                {{ form.video_type.errors }}
            </div>

            <div class="form-group">
                <label for="{{ form.video_url.id_for_label }}">Video URL (YouTube/Vimeo)</label>
                {{ form.video_url }}
                {{ form.video_url.errors }}
            </div>

            <div class="form-group">
                <label for="{{ form.thumbnail.id_for_label }}">Thumbnail Image</label>
                {{ form.thumbnail }}
                {{ form.thumbnail.errors }}
                {% if video and video.thumbnail %}
                <div class="current-image">
                    <p>Current Thumbnail:</p>
                    <img src="{{ video.thumbnail.url }}" alt="{{ video.title }}" style="max-width: 200px; margin-top: 10px;">
                </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.description.id_for_label }}">Description</label>
                {{ form.description }}
                {{ form.description.errors }}
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Save Video
                </button>
                <a href="{% url 'admin_videos' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}